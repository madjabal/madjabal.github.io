<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css">
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js"></script>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/mhchem.min.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false},
                {left: "\\[", right: "\\]", display: true}
            ],
            throwOnError: false,
            trust: true,
            macros: {
                // Vector macros
                "\\vec": "\\mathbf{#1}",
                "\\vx": "\\vec{x}",
                "\\vy": "\\vec{y}",
                "\\vz": "\\vec{z}",
                
                // Common operators
                "\\diff": "\\mathrm{d}",
                "\\pd": "\\partial",
                
                // Sets and spaces
                "\\reals": "\\mathbb{R}",
                "\\complex": "\\mathbb{C}",
                "\\integers": "\\mathbb{Z}",
                
                // Linear Algebra
                "\\mat": "\\mathbf{#1}",
                "\\tr": "\\operatorname{tr}",
                "\\rank": "\\operatorname{rank}",
                
                // Analysis
                "\\norm": "\\left\\lVert#1\\right\\rVert",
                "\\abs": "\\left|#1\\right|",
                
                // Probability
                "\\prob": "\\mathbb{P}",
                "\\expect": "\\mathbb{E}",
                "\\var": "\\operatorname{Var}",
                "\\cov": "\\operatorname{Cov}"
            }
        });
    });
</script>